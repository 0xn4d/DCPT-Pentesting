# FTP - Pentesting

* Enumerando a rede 192.168.0.0/24 , procurando portas 21,2121 possiveis porta FTP abertas --open, -Pn nao utilizar ping.
* Otimizando a pesquisa, com apenas -sS (SYN Scan) e criamos a lista de hosts -oG, -v (verbose). 

  nmap -v -sS -p21,2121 --open -Pn 192.168.0.0/24 -oG ftp-21-2121-open.txt

* Ajustando a lista criada anteriormente, para uso em outros programas, removendo os comentarios ficando apenas os ips necessarios.

  cat ftp-21-2121-open.txt | grep "Up" | cut -d " " -f 2 > targetsFTP.txt

* Caso desejar fazer um full scan na rede, a procura de serviços e descobrir outras portas FTP, podemos utilizar as opções.
* -sV para versão, e -A modo agressivo, logo criamos nossa lista para analise manual, 
* obs: o tempo do scan vai depender da rede, conexão e processamento,lembrando que nem todas as redes é permitido full scan -p- .
* podemos utilizar o modo discovery -sS -sV -sC

  nmap -v -sS -sV -A -p- --open -Pn 192.168.0.0/24 -oG full-open-agress.txt

  nmap -v -sS -sV -sC -p- --open -Pn 192.168.0.0/24 -oG Full-open-discov.txt

* Com as portas e hosts com FTP rodando vamos utilizar o proprio nmap com os script para FTP, -iL utilizaremos a lista criada, lembrando apenas IP.

  nmap -v --script=ftp* -iL targetsFTP.txt

* Baixando tudo que estiver compartilhado utilizando usuario anonymous 

  wget -m --no-passive ftp://anonymous:anonymous@IP_SERVIDOR


# Modulos do Metasploit

  auxiliary/scanner/ftp/anonymous
  auxiliary/scanner/ftp/ftp_login

# ftp_version 

  use auxiliary/scanner/ftp/ftp_version
  show options
  set RHOSTS 192.168.0.7  ## hosts ou targetsFTP.txt
  exploit
